{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Search,TrendingUp,X}from'lucide-react';import{assetService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AssetSearch=_ref=>{let{onAssetSelect,placeholder=\"Buscar a√ß√µes, ETFs, criptomoedas...\",className=\"\",showTrending=true,maxResults=8}=_ref;const[query,setQuery]=useState('');const[results,setResults]=useState([]);const[isLoading,setIsLoading]=useState(false);const[isOpen,setIsOpen]=useState(false);const[selectedIndex,setSelectedIndex]=useState(-1);const[trendingAssets,setTrendingAssets]=useState([]);const searchRef=useRef(null);const inputRef=useRef(null);const debounceRef=useRef();// Buscar ativos trending ao montar o componente\nuseEffect(()=>{if(showTrending){loadTrendingAssets();}},[showTrending]);// Fechar dropdown ao clicar fora\nuseEffect(()=>{const handleClickOutside=event=>{if(searchRef.current&&!searchRef.current.contains(event.target)){setIsOpen(false);setSelectedIndex(-1);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);// Carregar ativos em alta\nconst loadTrendingAssets=async()=>{try{const trending=await assetService.getTrendingAssets(6);const trendingResults=trending.map(asset=>({symbol:asset.symbol,name:asset.name,type:'stock',exchange:asset.exchange,currency:asset.currency,sector:asset.sector}));setTrendingAssets(trendingResults);}catch(error){console.error('Erro ao carregar ativos trending:',error);}};// Buscar ativos com debounce\nconst searchAssets=async searchQuery=>{if(!searchQuery.trim()){setResults([]);return;}setIsLoading(true);try{const searchResults=await assetService.searchAssets(searchQuery,maxResults);setResults(searchResults);}catch(error){console.error('Erro na busca:',error);setResults([]);}finally{setIsLoading(false);}};// Manipular mudan√ßa no input\nconst handleInputChange=e=>{const value=e.target.value;setQuery(value);setSelectedIndex(-1);setIsOpen(true);// Limpar timeout anterior\nif(debounceRef.current){clearTimeout(debounceRef.current);}// Criar novo timeout para debounce\ndebounceRef.current=setTimeout(()=>{searchAssets(value);},300);};// Manipular teclas\nconst handleKeyDown=e=>{var _inputRef$current;const currentResults=query.trim()?results:trendingAssets;switch(e.key){case'ArrowDown':e.preventDefault();setSelectedIndex(prev=>prev<currentResults.length-1?prev+1:prev);break;case'ArrowUp':e.preventDefault();setSelectedIndex(prev=>prev>0?prev-1:-1);break;case'Enter':e.preventDefault();if(selectedIndex>=0&&currentResults[selectedIndex]){handleAssetSelect(currentResults[selectedIndex]);}break;case'Escape':setIsOpen(false);setSelectedIndex(-1);(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.blur();break;}};// Manipular sele√ß√£o de ativo\nconst handleAssetSelect=asset=>{var _inputRef$current2;onAssetSelect(asset);setQuery('');setResults([]);setIsOpen(false);setSelectedIndex(-1);(_inputRef$current2=inputRef.current)===null||_inputRef$current2===void 0?void 0:_inputRef$current2.blur();};// Limpar busca\nconst clearSearch=()=>{var _inputRef$current3;setQuery('');setResults([]);setSelectedIndex(-1);(_inputRef$current3=inputRef.current)===null||_inputRef$current3===void 0?void 0:_inputRef$current3.focus();};// Obter √≠cone do tipo de ativo\nconst getAssetTypeIcon=type=>{if(!type)return'üìà';switch(type.toLowerCase()){case'crypto':return'‚Çø';case'etf':return'üìä';case'forex':return'üí±';case'commodity':return'ü•á';default:return'üìà';}};// Obter cor do tipo de ativo\nconst getAssetTypeColor=type=>{if(!type)return'text-gray-600';switch(type.toLowerCase()){case'crypto':return'text-orange-600';case'etf':return'text-blue-600';case'forex':return'text-green-600';case'commodity':return'text-yellow-600';default:return'text-gray-600';}};const currentResults=query.trim()?results:trendingAssets;const showResults=isOpen&&(currentResults.length>0||isLoading);return/*#__PURE__*/_jsxs(\"div\",{ref:searchRef,className:\"relative \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5 text-gray-400 dark:text-gray-300\"})}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",value:query,onChange:handleInputChange,onKeyDown:handleKeyDown,onFocus:()=>setIsOpen(true),placeholder:placeholder,className:\"block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg leading-5 bg-white dark:bg-gray-800 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-sm\"}),query&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:clearSearch,className:\"text-gray-400 dark:text-gray-300 hover:text-gray-600 dark:hover:text-gray-100 focus:outline-none\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})})]}),showResults&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 shadow-lg max-h-96 rounded-md py-1 text-base ring-1 ring-black dark:ring-gray-600 ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\",children:[!query.trim()&&showTrending&&trendingAssets.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide border-b border-gray-100 dark:border-gray-700 flex items-center\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 mr-1\"}),\"Em Alta\"]}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 text-sm text-gray-500 dark:text-gray-400 flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600 mr-2\"}),\"Buscando...\"]}),currentResults.map((asset,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAssetSelect(asset),className:\"w-full text-left px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:bg-gray-50 dark:focus:bg-gray-700 \".concat(index===selectedIndex?'bg-primary-50 dark:bg-primary-900/30':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:getAssetTypeIcon(asset.type)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900 dark:text-white\",children:asset.symbol}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-0.5 rounded-full \".concat(getAssetTypeColor(asset.type),\" bg-gray-100 dark:bg-gray-700\"),children:asset.type?asset.type.toUpperCase():'STOCK'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs\",children:asset.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:asset.exchange}),asset.currency&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 dark:text-gray-500\",children:asset.currency})]})]})},\"\".concat(asset.symbol,\"-\").concat(asset.exchange))),!isLoading&&query.trim()&&results.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 text-sm text-gray-500 dark:text-gray-400\",children:[\"Nenhum ativo encontrado para \\\"\",query,\"\\\"\"]})]})]});};export default AssetSearch;","map":{"version":3,"names":["React","useState","useEffect","useRef","Search","TrendingUp","X","assetService","jsx","_jsx","jsxs","_jsxs","AssetSearch","_ref","onAssetSelect","placeholder","className","showTrending","maxResults","query","setQuery","results","setResults","isLoading","setIsLoading","isOpen","setIsOpen","selectedIndex","setSelectedIndex","trendingAssets","setTrendingAssets","searchRef","inputRef","debounceRef","loadTrendingAssets","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","trending","getTrendingAssets","trendingResults","map","asset","symbol","name","type","exchange","currency","sector","error","console","searchAssets","searchQuery","trim","searchResults","handleInputChange","e","value","clearTimeout","setTimeout","handleKeyDown","_inputRef$current","currentResults","key","preventDefault","prev","length","handleAssetSelect","blur","_inputRef$current2","clearSearch","_inputRef$current3","focus","getAssetTypeIcon","toLowerCase","getAssetTypeColor","showResults","ref","concat","children","onChange","onKeyDown","onFocus","onClick","index","toUpperCase"],"sources":["C:/Users/ferna/INVEST_TRACKER/frontend/src/components/AssetSearch.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Search, TrendingUp, X } from 'lucide-react';\r\nimport { assetService } from '../services/api';\r\nimport { AssetSearchResult } from '../types';\r\n\r\ninterface AssetSearchProps {\r\n  onAssetSelect: (asset: AssetSearchResult) => void;\r\n  placeholder?: string;\r\n  className?: string;\r\n  showTrending?: boolean;\r\n  maxResults?: number;\r\n}\r\n\r\nconst AssetSearch: React.FC<AssetSearchProps> = ({\r\n  onAssetSelect,\r\n  placeholder = \"Buscar a√ß√µes, ETFs, criptomoedas...\",\r\n  className = \"\",\r\n  showTrending = true,\r\n  maxResults = 8\r\n}) => {\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState<AssetSearchResult[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selectedIndex, setSelectedIndex] = useState(-1);\r\n  const [trendingAssets, setTrendingAssets] = useState<AssetSearchResult[]>([]);\r\n  \r\n  const searchRef = useRef<HTMLDivElement>(null);\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const debounceRef = useRef<NodeJS.Timeout>();\r\n\r\n  // Buscar ativos trending ao montar o componente\r\n  useEffect(() => {\r\n    if (showTrending) {\r\n      loadTrendingAssets();\r\n    }\r\n  }, [showTrending]);\r\n\r\n  // Fechar dropdown ao clicar fora\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (searchRef.current && !searchRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n        setSelectedIndex(-1);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  // Carregar ativos em alta\r\n  const loadTrendingAssets = async () => {\r\n    try {\r\n      const trending = await assetService.getTrendingAssets(6);\r\n      const trendingResults: AssetSearchResult[] = trending.map((asset: any) => ({\r\n        symbol: asset.symbol,\r\n        name: asset.name,\r\n        type: 'stock',\r\n        exchange: asset.exchange,\r\n        currency: asset.currency,\r\n        sector: asset.sector\r\n      }));\r\n      setTrendingAssets(trendingResults);\r\n    } catch (error) {\r\n      console.error('Erro ao carregar ativos trending:', error);\r\n    }\r\n  };\r\n\r\n  // Buscar ativos com debounce\r\n  const searchAssets = async (searchQuery: string) => {\r\n    if (!searchQuery.trim()) {\r\n      setResults([]);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      const searchResults = await assetService.searchAssets(searchQuery, maxResults);\r\n      setResults(searchResults);\r\n    } catch (error) {\r\n      console.error('Erro na busca:', error);\r\n      setResults([]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Manipular mudan√ßa no input\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setQuery(value);\r\n    setSelectedIndex(-1);\r\n    setIsOpen(true);\r\n\r\n    // Limpar timeout anterior\r\n    if (debounceRef.current) {\r\n      clearTimeout(debounceRef.current);\r\n    }\r\n\r\n    // Criar novo timeout para debounce\r\n    debounceRef.current = setTimeout(() => {\r\n      searchAssets(value);\r\n    }, 300);\r\n  };\r\n\r\n  // Manipular teclas\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    const currentResults = query.trim() ? results : trendingAssets;\r\n    \r\n    switch (e.key) {\r\n      case 'ArrowDown':\r\n        e.preventDefault();\r\n        setSelectedIndex(prev => \r\n          prev < currentResults.length - 1 ? prev + 1 : prev\r\n        );\r\n        break;\r\n      case 'ArrowUp':\r\n        e.preventDefault();\r\n        setSelectedIndex(prev => prev > 0 ? prev - 1 : -1);\r\n        break;\r\n      case 'Enter':\r\n        e.preventDefault();\r\n        if (selectedIndex >= 0 && currentResults[selectedIndex]) {\r\n          handleAssetSelect(currentResults[selectedIndex]);\r\n        }\r\n        break;\r\n      case 'Escape':\r\n        setIsOpen(false);\r\n        setSelectedIndex(-1);\r\n        inputRef.current?.blur();\r\n        break;\r\n    }\r\n  };\r\n\r\n  // Manipular sele√ß√£o de ativo\r\n  const handleAssetSelect = (asset: AssetSearchResult) => {\r\n    onAssetSelect(asset);\r\n    setQuery('');\r\n    setResults([]);\r\n    setIsOpen(false);\r\n    setSelectedIndex(-1);\r\n    inputRef.current?.blur();\r\n  };\r\n\r\n  // Limpar busca\r\n  const clearSearch = () => {\r\n    setQuery('');\r\n    setResults([]);\r\n    setSelectedIndex(-1);\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  // Obter √≠cone do tipo de ativo\r\n  const getAssetTypeIcon = (type: string) => {\r\n    if (!type) return 'üìà';\r\n    switch (type.toLowerCase()) {\r\n      case 'crypto':\r\n        return '‚Çø';\r\n      case 'etf':\r\n        return 'üìä';\r\n      case 'forex':\r\n        return 'üí±';\r\n      case 'commodity':\r\n        return 'ü•á';\r\n      default:\r\n        return 'üìà';\r\n    }\r\n  };\r\n\r\n  // Obter cor do tipo de ativo\r\n  const getAssetTypeColor = (type: string) => {\r\n    if (!type) return 'text-gray-600';\r\n    switch (type.toLowerCase()) {\r\n      case 'crypto':\r\n        return 'text-orange-600';\r\n      case 'etf':\r\n        return 'text-blue-600';\r\n      case 'forex':\r\n        return 'text-green-600';\r\n      case 'commodity':\r\n        return 'text-yellow-600';\r\n      default:\r\n        return 'text-gray-600';\r\n    }\r\n  };\r\n\r\n  const currentResults = query.trim() ? results : trendingAssets;\r\n  const showResults = isOpen && (currentResults.length > 0 || isLoading);\r\n\r\n  return (\r\n    <div ref={searchRef} className={`relative ${className}`}>\r\n      {/* Input de busca */}\r\n      <div className=\"relative\">\r\n        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n          <Search className=\"h-5 w-5 text-gray-400 dark:text-gray-300\" />\r\n        </div>\r\n        <input\r\n          ref={inputRef}\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={handleInputChange}\r\n          onKeyDown={handleKeyDown}\r\n          onFocus={() => setIsOpen(true)}\r\n          placeholder={placeholder}\r\n          className=\"block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg leading-5 bg-white dark:bg-gray-800 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-sm\"\r\n        />\r\n        {query && (\r\n          <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\r\n            <button\r\n              onClick={clearSearch}\r\n              className=\"text-gray-400 dark:text-gray-300 hover:text-gray-600 dark:hover:text-gray-100 focus:outline-none\"\r\n            >\r\n              <X className=\"h-5 w-5\" />\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Dropdown de resultados */}\r\n      {showResults && (\r\n        <div className=\"absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 shadow-lg max-h-96 rounded-md py-1 text-base ring-1 ring-black dark:ring-gray-600 ring-opacity-5 overflow-auto focus:outline-none sm:text-sm\">\r\n          {/* Header para trending */}\r\n          {!query.trim() && showTrending && trendingAssets.length > 0 && (\r\n            <div className=\"px-3 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide border-b border-gray-100 dark:border-gray-700 flex items-center\">\r\n              <TrendingUp className=\"h-4 w-4 mr-1\" />\r\n              Em Alta\r\n            </div>\r\n          )}\r\n\r\n          {/* Loading */}\r\n          {isLoading && (\r\n            <div className=\"px-3 py-2 text-sm text-gray-500 dark:text-gray-400 flex items-center\">\r\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600 mr-2\"></div>\r\n              Buscando...\r\n            </div>\r\n          )}\r\n\r\n          {/* Resultados */}\r\n          {currentResults.map((asset, index) => (\r\n            <button\r\n              key={`${asset.symbol}-${asset.exchange}`}\r\n              onClick={() => handleAssetSelect(asset)}\r\n              className={`w-full text-left px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:bg-gray-50 dark:focus:bg-gray-700 ${\r\n                index === selectedIndex ? 'bg-primary-50 dark:bg-primary-900/30' : ''\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <span className=\"text-lg\">{getAssetTypeIcon(asset.type)}</span>\r\n                  <div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className=\"font-medium text-gray-900 dark:text-white\">{asset.symbol}</span>\r\n                      <span className={`text-xs px-2 py-0.5 rounded-full ${getAssetTypeColor(asset.type)} bg-gray-100 dark:bg-gray-700`}>\r\n                        {asset.type ? asset.type.toUpperCase() : 'STOCK'}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs\">\r\n                      {asset.name}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <div className=\"text-xs text-gray-500 dark:text-gray-400\">{asset.exchange}</div>\r\n                  {asset.currency && (\r\n                    <div className=\"text-xs text-gray-400 dark:text-gray-500\">{asset.currency}</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </button>\r\n          ))}\r\n\r\n          {/* Nenhum resultado */}\r\n          {!isLoading && query.trim() && results.length === 0 && (\r\n            <div className=\"px-3 py-2 text-sm text-gray-500 dark:text-gray-400\">\r\n              Nenhum ativo encontrado para \"{query}\"\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssetSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}