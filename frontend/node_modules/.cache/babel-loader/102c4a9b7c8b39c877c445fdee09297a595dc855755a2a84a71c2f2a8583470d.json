{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Plus,TrendingUp,DollarSign,PieChart,BarChart3,Trash2}from'lucide-react';import{portfolioService,assetService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Portfolio=()=>{var _performance$totalGai;const[portfolios,setPortfolios]=useState([]);const[selectedPortfolio,setSelectedPortfolio]=useState(null);const[portfolioAssets,setPortfolioAssets]=useState([]);const[performance,setPerformance]=useState(null);const[loading,setLoading]=useState(true);const[showCreateModal,setShowCreateModal]=useState(false);const[showAddAssetModal,setShowAddAssetModal]=useState(false);useEffect(()=>{loadPortfolios();},[]);useEffect(()=>{if(selectedPortfolio){loadPortfolioData(selectedPortfolio.id);}},[selectedPortfolio]);const loadPortfolios=async()=>{try{const data=await portfolioService.getPortfolios();setPortfolios(data);if(data.length>0&&!selectedPortfolio){setSelectedPortfolio(data[0]);}}catch(error){console.error('Erro ao carregar portfólios:',error);}finally{setLoading(false);}};const loadPortfolioData=async portfolioId=>{try{const[assets,perf]=await Promise.all([portfolioService.getPortfolioAssets(portfolioId),portfolioService.getPortfolioPerformance(portfolioId)]);console.log('Portfolio assets:',assets);console.log('Portfolio assets detailed:',assets.map(asset=>({symbol:asset.symbol,currentPrice:asset.currentPrice,totalValue:asset.totalValue,profit_loss:asset.gain,profit_loss_percent:asset.gainPercent})));console.log('Portfolio performance:',perf);setPortfolioAssets(assets);setPerformance(perf);}catch(error){console.error('Erro ao carregar dados do portfólio:',error);}};const createPortfolio=async(name,description)=>{try{const newPortfolio=await portfolioService.createPortfolio({name,description});setPortfolios([...portfolios,newPortfolio]);setSelectedPortfolio(newPortfolio);setShowCreateModal(false);}catch(error){console.error('Erro ao criar portfólio:',error);}};const addAssetToPortfolio=async(symbol,quantity,averagePrice)=>{if(!selectedPortfolio)return;try{await portfolioService.addAssetToPortfolio(selectedPortfolio.id,{symbol,quantity,averagePrice});loadPortfolioData(selectedPortfolio.id);setShowAddAssetModal(false);}catch(error){console.error('Erro ao adicionar ativo:',error);}};const removeAsset=async assetId=>{if(!selectedPortfolio)return;try{await portfolioService.removeAssetFromPortfolio(assetId);loadPortfolioData(selectedPortfolio.id);}catch(error){console.error('Erro ao remover ativo:',error);}};const deletePortfolio=async portfolioId=>{// Use window.confirm instead of global confirm to avoid ESLint warning\nif(!window.confirm('Tem certeza que deseja deletar este portfólio? Esta ação não pode ser desfeita.')){return;}try{await portfolioService.deletePortfolio(portfolioId);const updatedPortfolios=portfolios.filter(p=>p.id!==portfolioId);setPortfolios(updatedPortfolios);// Se o portfólio deletado era o selecionado, selecionar outro ou limpar\nif((selectedPortfolio===null||selectedPortfolio===void 0?void 0:selectedPortfolio.id)===portfolioId){if(updatedPortfolios.length>0){setSelectedPortfolio(updatedPortfolios[0]);}else{setSelectedPortfolio(null);setPortfolioAssets([]);setPerformance(null);}}}catch(error){console.error('Erro ao deletar portfólio:',error);// Use window.alert instead of global alert\nwindow.alert('Erro ao deletar portfólio. Tente novamente.');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 dark:border-primary-400\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white\",children:\"Portf\\xF3lios\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600 dark:text-gray-300\",children:\"Gerencie seus investimentos e acompanhe o desempenho.\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"btn-primary\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-5 w-5 mr-2\"}),\"Novo Portf\\xF3lio\"]})]})}),portfolios.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-4 overflow-x-auto pb-2\",children:portfolios.map(portfolio=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedPortfolio(portfolio),className:\"px-4 py-2 rounded-lg font-medium transition-colors \".concat((selectedPortfolio===null||selectedPortfolio===void 0?void 0:selectedPortfolio.id)===portfolio.id?'bg-primary-600 text-white':'bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600'),children:portfolio.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deletePortfolio(portfolio.id),className:\"p-2 text-danger-600 hover:text-danger-800 dark:hover:text-danger-400 hover:bg-danger-50 dark:hover:bg-danger-900/20 rounded-lg transition-colors\",title:\"Deletar portf\\xF3lio\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]},portfolio.id))})}),selectedPortfolio?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[performance&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(DollarSign,{className:\"h-8 w-8 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Valor Total\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:[\"R$ \",((performance===null||performance===void 0?void 0:performance.totalValue)||0).toLocaleString('pt-BR',{minimumFractionDigits:2})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-8 w-8 text-success-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Ganho/Perda\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold \".concat(((performance===null||performance===void 0?void 0:performance.totalGain)||0)>=0?'text-success-600':'text-danger-600'),children:[\"R$ \",((performance===null||performance===void 0?void 0:performance.totalGain)||0).toLocaleString('pt-BR',{minimumFractionDigits:2})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"h-8 w-8 text-warning-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Retorno (%)\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold \".concat(((performance===null||performance===void 0?void 0:performance.totalGainPercent)||0)>=0?'text-success-600':'text-danger-600'),children:[(performance===null||performance===void 0?void 0:(_performance$totalGai=performance.totalGainPercent)===null||_performance$totalGai===void 0?void 0:_performance$totalGai.toFixed(2))||'0.00',\"%\"]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(PieChart,{className:\"h-8 w-8 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Ativos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:portfolioAssets.length})]})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card dark:bg-gray-800 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:\"Ativos do Portf\\xF3lio\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddAssetModal(true),className:\"btn-primary btn-sm\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-1\"}),\"Adicionar Ativo\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:portfolioAssets.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Ativo\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Quantidade\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Pre\\xE7o M\\xE9dio\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Pre\\xE7o Atual\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Valor Atual\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Ganho/Perda\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",children:portfolioAssets.map(asset=>{var _asset$averagePrice;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:asset.symbol})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\",children:asset.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\",children:[\"R$ \",((_asset$averagePrice=asset.averagePrice)===null||_asset$averagePrice===void 0?void 0:_asset$averagePrice.toFixed(2))||'0.00']}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\",children:[\"R$ \",asset.currentPrice&&!isNaN(asset.currentPrice)?asset.currentPrice.toFixed(2):'0.00']}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\",children:[\"R$ \",asset.currentPrice&&!isNaN(asset.currentPrice)?(asset.currentPrice*asset.quantity).toFixed(2):'0.00']}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium \".concat(asset.gain!==undefined&&asset.gain>=0?'text-success-600':'text-danger-600'),children:[\"R$ \",asset.gain?asset.gain.toFixed(2):'0.00']})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeAsset(asset.id),className:\"text-danger-600 hover:text-danger-900 dark:hover:text-danger-400\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})})]},asset.id);})})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(PieChart,{className:\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Nenhum ativo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:\"Adicione ativos ao seu portf\\xF3lio para come\\xE7ar.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddAssetModal(true),className:\"btn-primary\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-5 w-5 mr-2\"}),\"Adicionar Primeiro Ativo\"]})})]})})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(PieChart,{className:\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Nenhum portf\\xF3lio\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:\"Crie seu primeiro portf\\xF3lio para come\\xE7ar a acompanhar seus investimentos.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"btn-primary\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-5 w-5 mr-2\"}),\"Criar Primeiro Portf\\xF3lio\"]})})]})]}),/*#__PURE__*/_jsx(CreatePortfolioModal,{isOpen:showCreateModal,onClose:()=>setShowCreateModal(false),onSubmit:createPortfolio}),/*#__PURE__*/_jsx(AddAssetModal,{isOpen:showAddAssetModal,onClose:()=>setShowAddAssetModal(false),onSubmit:addAssetToPortfolio})]});};// Modal para criar portfólio\nconst CreatePortfolioModal=_ref=>{let{isOpen,onClose,onSubmit}=_ref;const[name,setName]=useState('');const[description,setDescription]=useState('');const handleSubmit=e=>{e.preventDefault();if(name.trim()){onSubmit(name.trim(),description.trim());setName('');setDescription('');}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 dark:text-white mb-4\",children:\"Criar Novo Portf\\xF3lio\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Nome do Portf\\xF3lio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),className:\"input\",placeholder:\"Ex: Meu Portf\\xF3lio Principal\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Descri\\xE7\\xE3o (opcional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),className:\"input\",rows:3,placeholder:\"Descri\\xE7\\xE3o do portf\\xF3lio...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn-outline\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Criar Portf\\xF3lio\"})]})]})]})});};// Modal para adicionar ativo\nconst AddAssetModal=_ref2=>{let{isOpen,onClose,onSubmit}=_ref2;const[symbol,setSymbol]=useState('');const[quantity,setQuantity]=useState('');const[averagePrice,setAveragePrice]=useState('');const[searchResults,setSearchResults]=useState([]);const[isSearching,setIsSearching]=useState(false);const[showResults,setShowResults]=useState(false);const handleSymbolChange=async e=>{const value=e.target.value;setSymbol(value);if(value.length>=2){setIsSearching(true);setShowResults(true);try{const results=await assetService.searchAssets(value);setSearchResults(results);}catch(error){console.error('Erro ao buscar ativos:',error);}finally{setIsSearching(false);}}else{setSearchResults([]);setShowResults(false);}};const handleSelectAsset=asset=>{setSymbol(asset.symbol);setShowResults(false);};const handleSubmit=e=>{e.preventDefault();if(symbol.trim()&&quantity&&averagePrice){onSubmit(symbol.trim().toUpperCase(),parseFloat(quantity),parseFloat(averagePrice));setSymbol('');setQuantity('');setAveragePrice('');}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 dark:text-white mb-4\",children:\"Adicionar Ativo\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 relative\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"S\\xEDmbolo do Ativo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:symbol,onChange:handleSymbolChange,className:\"input\",placeholder:\"Ex: PETR4, VALE3, ITUB4\",required:true}),isSearching&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-3 top-9\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"})}),showResults&&searchResults.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute z-10 mt-1 w-full bg-white dark:bg-gray-700 shadow-lg rounded-md max-h-60 overflow-auto\",children:searchResults.map(asset=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer flex justify-between items-center\",onClick:()=>handleSelectAsset(asset),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:asset.symbol}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:asset.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded\",children:asset.exchange})]},asset.symbol))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Quantidade\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quantity,onChange:e=>setQuantity(e.target.value),className:\"input\",placeholder:\"100\",min:\"0\",step:\"1\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Pre\\xE7o M\\xE9dio (R$)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:averagePrice,onChange:e=>setAveragePrice(e.target.value),className:\"input\",placeholder:\"25.50\",min:\"0\",step:\"0.01\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn-outline\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Adicionar Ativo\"})]})]})]})});};export default Portfolio;","map":{"version":3,"names":["React","useState","useEffect","Plus","TrendingUp","DollarSign","PieChart","BarChart3","Trash2","portfolioService","assetService","jsx","_jsx","jsxs","_jsxs","Portfolio","_performance$totalGai","portfolios","setPortfolios","selectedPortfolio","setSelectedPortfolio","portfolioAssets","setPortfolioAssets","performance","setPerformance","loading","setLoading","showCreateModal","setShowCreateModal","showAddAssetModal","setShowAddAssetModal","loadPortfolios","loadPortfolioData","id","data","getPortfolios","length","error","console","portfolioId","assets","perf","Promise","all","getPortfolioAssets","getPortfolioPerformance","log","map","asset","symbol","currentPrice","totalValue","profit_loss","gain","profit_loss_percent","gainPercent","createPortfolio","name","description","newPortfolio","addAssetToPortfolio","quantity","averagePrice","removeAsset","assetId","removeAssetFromPortfolio","deletePortfolio","window","confirm","updatedPortfolios","filter","p","alert","className","children","onClick","portfolio","concat","title","toLocaleString","minimumFractionDigits","totalGain","totalGainPercent","toFixed","_asset$averagePrice","isNaN","undefined","CreatePortfolioModal","isOpen","onClose","onSubmit","AddAssetModal","_ref","setName","setDescription","handleSubmit","e","preventDefault","trim","type","value","onChange","target","placeholder","required","rows","_ref2","setSymbol","setQuantity","setAveragePrice","searchResults","setSearchResults","isSearching","setIsSearching","showResults","setShowResults","handleSymbolChange","results","searchAssets","handleSelectAsset","toUpperCase","parseFloat","exchange","min","step"],"sources":["C:/Users/ferna/INVEST_TRACKER/frontend/src/components/Portfolio.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Plus, TrendingUp, TrendingDown, DollarSign, PieChart, BarChart3, Edit, Trash2 } from 'lucide-react';\r\nimport { portfolioService, assetService } from '../services/api';\r\nimport { Portfolio as PortfolioType, PortfolioAsset, PortfolioPerformance, AssetSearchResult } from '../types';\r\nimport { SimpleTradingViewChart } from './TradingViewChart';\r\n\r\nconst Portfolio: React.FC = () => {\r\n  const [portfolios, setPortfolios] = useState<PortfolioType[]>([]);\r\n  const [selectedPortfolio, setSelectedPortfolio] = useState<PortfolioType | null>(null);\r\n  const [portfolioAssets, setPortfolioAssets] = useState<PortfolioAsset[]>([]);\r\n  const [performance, setPerformance] = useState<PortfolioPerformance | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showAddAssetModal, setShowAddAssetModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadPortfolios();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedPortfolio) {\r\n      loadPortfolioData(selectedPortfolio.id);\r\n    }\r\n  }, [selectedPortfolio]);\r\n\r\n  const loadPortfolios = async () => {\r\n    try {\r\n      const data = await portfolioService.getPortfolios();\r\n      setPortfolios(data);\r\n      if (data.length > 0 && !selectedPortfolio) {\r\n        setSelectedPortfolio(data[0]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar portfólios:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadPortfolioData = async (portfolioId: number) => {\r\n    try {\r\n      const [assets, perf] = await Promise.all([\r\n        portfolioService.getPortfolioAssets(portfolioId),\r\n        portfolioService.getPortfolioPerformance(portfolioId)\r\n      ]);\r\n      console.log('Portfolio assets:', assets);\r\n      console.log('Portfolio assets detailed:', assets.map(asset => ({\r\n        symbol: asset.symbol,\r\n        currentPrice: asset.currentPrice,\r\n        totalValue: asset.totalValue,\r\n        profit_loss: asset.gain,\r\n        profit_loss_percent: asset.gainPercent\r\n      })));\r\n      console.log('Portfolio performance:', perf);\r\n      setPortfolioAssets(assets);\r\n      setPerformance(perf);\r\n    } catch (error) {\r\n      console.error('Erro ao carregar dados do portfólio:', error);\r\n    }\r\n  };\r\n\r\n  const createPortfolio = async (name: string, description: string) => {\r\n    try {\r\n      const newPortfolio = await portfolioService.createPortfolio({ name, description });\r\n      setPortfolios([...portfolios, newPortfolio]);\r\n      setSelectedPortfolio(newPortfolio);\r\n      setShowCreateModal(false);\r\n    } catch (error) {\r\n      console.error('Erro ao criar portfólio:', error);\r\n    }\r\n  };\r\n\r\n  const addAssetToPortfolio = async (symbol: string, quantity: number, averagePrice: number) => {\r\n    if (!selectedPortfolio) return;\r\n    \r\n    try {\r\n      await portfolioService.addAssetToPortfolio(selectedPortfolio.id, {\r\n        symbol,\r\n        quantity,\r\n        averagePrice\r\n      });\r\n      loadPortfolioData(selectedPortfolio.id);\r\n      setShowAddAssetModal(false);\r\n    } catch (error) {\r\n      console.error('Erro ao adicionar ativo:', error);\r\n    }\r\n  };\r\n\r\n  const removeAsset = async (assetId: number) => {\r\n    if (!selectedPortfolio) return;\r\n    \r\n    try {\r\n      await portfolioService.removeAssetFromPortfolio(assetId);\r\n      loadPortfolioData(selectedPortfolio.id);\r\n    } catch (error) {\r\n      console.error('Erro ao remover ativo:', error);\r\n    }\r\n  };\r\n\r\n  const deletePortfolio = async (portfolioId: number) => {\r\n    // Use window.confirm instead of global confirm to avoid ESLint warning\r\n    if (!window.confirm('Tem certeza que deseja deletar este portfólio? Esta ação não pode ser desfeita.')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await portfolioService.deletePortfolio(portfolioId);\r\n      const updatedPortfolios = portfolios.filter(p => p.id !== portfolioId);\r\n      setPortfolios(updatedPortfolios);\r\n      \r\n      // Se o portfólio deletado era o selecionado, selecionar outro ou limpar\r\n      if (selectedPortfolio?.id === portfolioId) {\r\n        if (updatedPortfolios.length > 0) {\r\n          setSelectedPortfolio(updatedPortfolios[0]);\r\n        } else {\r\n          setSelectedPortfolio(null);\r\n          setPortfolioAssets([]);\r\n          setPerformance(null);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao deletar portfólio:', error);\r\n      // Use window.alert instead of global alert\r\n      window.alert('Erro ao deletar portfólio. Tente novamente.');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 dark:border-primary-400\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Portfólios</h1>\r\n              <p className=\"mt-2 text-gray-600 dark:text-gray-300\">\r\n                Gerencie seus investimentos e acompanhe o desempenho.\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowCreateModal(true)}\r\n              className=\"btn-primary\"\r\n            >\r\n              <Plus className=\"h-5 w-5 mr-2\" />\r\n              Novo Portfólio\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Seletor de Portfólio */}\r\n        {portfolios.length > 0 && (\r\n          <div className=\"mb-6\">\r\n            <div className=\"flex space-x-4 overflow-x-auto pb-2\">\r\n              {portfolios.map((portfolio) => (\r\n                <div key={portfolio.id} className=\"flex-shrink-0 flex items-center space-x-2\">\r\n                  <button\r\n                    onClick={() => setSelectedPortfolio(portfolio)}\r\n                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                      selectedPortfolio?.id === portfolio.id\r\n                        ? 'bg-primary-600 text-white'\r\n                        : 'bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600'\r\n                    }`}\r\n                  >\r\n                    {portfolio.name}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => deletePortfolio(portfolio.id)}\r\n                    className=\"p-2 text-danger-600 hover:text-danger-800 dark:hover:text-danger-400 hover:bg-danger-50 dark:hover:bg-danger-900/20 rounded-lg transition-colors\"\r\n                    title=\"Deletar portfólio\"\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4\" />\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {selectedPortfolio ? (\r\n          <div className=\"space-y-6\">\r\n            {/* Cards de Performance */}\r\n            {performance && (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n                <div className=\"card dark:bg-gray-800 dark:border-gray-700\">\r\n                  <div className=\"card-body\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"flex-shrink-0\">\r\n                        <DollarSign className=\"h-8 w-8 text-primary-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Valor Total</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n                          R$ {(performance?.totalValue || 0).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"card dark:bg-gray-800 dark:border-gray-700\">\r\n                  <div className=\"card-body\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"flex-shrink-0\">\r\n                        <TrendingUp className=\"h-8 w-8 text-success-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Ganho/Perda</p>\r\n                        <p className={`text-2xl font-bold ${\r\n                          (performance?.totalGain || 0) >= 0 ? 'text-success-600' : 'text-danger-600'\r\n                         }`}>\r\n                           R$ {(performance?.totalGain || 0).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"card dark:bg-gray-800 dark:border-gray-700\">\r\n                  <div className=\"card-body\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"flex-shrink-0\">\r\n                        <BarChart3 className=\"h-8 w-8 text-warning-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Retorno (%)</p>\r\n                        <p className={`text-2xl font-bold ${\r\n                          (performance?.totalGainPercent || 0) >= 0 ? 'text-success-600' : 'text-danger-600'\r\n                         }`}>\r\n                           {performance?.totalGainPercent?.toFixed(2) || '0.00'}%\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"card dark:bg-gray-800 dark:border-gray-700\">\r\n                  <div className=\"card-body\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"flex-shrink-0\">\r\n                        <PieChart className=\"h-8 w-8 text-purple-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Ativos</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n                          {portfolioAssets.length}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Lista de Ativos */}\r\n            <div className=\"card dark:bg-gray-800 dark:border-gray-700\">\r\n              <div className=\"card-header dark:border-gray-700\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Ativos do Portfólio</h3>\r\n                  <button\r\n                    onClick={() => setShowAddAssetModal(true)}\r\n                    className=\"btn-primary btn-sm\"\r\n                  >\r\n                    <Plus className=\"h-4 w-4 mr-1\" />\r\n                    Adicionar Ativo\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-body p-0\">\r\n                {portfolioAssets.length > 0 ? (\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n                      <thead className=\"bg-gray-50 dark:bg-gray-700\">\r\n                        <tr>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Ativo\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Quantidade\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Preço Médio\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Preço Atual\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Valor Atual\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Ganho/Perda\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Ações\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\r\n                        {portfolioAssets.map((asset) => (\r\n                          <tr key={asset.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\r\n                            <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                              <div className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                                {asset.symbol}\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\">\r\n                              {asset.quantity}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\">\r\n                              R$ {asset.averagePrice?.toFixed(2) || '0.00'}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\">\r\n                              R$ {asset.currentPrice && !isNaN(asset.currentPrice) ? asset.currentPrice.toFixed(2) : '0.00'}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\">\r\n                              R$ {(asset.currentPrice && !isNaN(asset.currentPrice) ? (asset.currentPrice * asset.quantity).toFixed(2) : '0.00')}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                              <span className={`text-sm font-medium ${\r\n                                (asset.gain !== undefined && asset.gain >= 0)\r\n                                  ? 'text-success-600'\r\n                                  : 'text-danger-600'\r\n                              }`}>\r\n                                R$ {asset.gain ? asset.gain.toFixed(2) : '0.00'}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                              <button\r\n                                onClick={() => removeAsset(asset.id)}\r\n                                className=\"text-danger-600 hover:text-danger-900 dark:hover:text-danger-400\"\r\n                              >\r\n                                <Trash2 className=\"h-4 w-4\" />\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-12\">\r\n                    <PieChart className=\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\" />\r\n                    <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">Nenhum ativo</h3>\r\n                    <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n                      Adicione ativos ao seu portfólio para começar.\r\n                    </p>\r\n                    <div className=\"mt-6\">\r\n                      <button\r\n                        onClick={() => setShowAddAssetModal(true)}\r\n                        className=\"btn-primary\"\r\n                      >\r\n                        <Plus className=\"h-5 w-5 mr-2\" />\r\n                        Adicionar Primeiro Ativo\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-12\">\r\n            <PieChart className=\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\" />\r\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">Nenhum portfólio</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n              Crie seu primeiro portfólio para começar a acompanhar seus investimentos.\r\n            </p>\r\n            <div className=\"mt-6\">\r\n              <button\r\n                onClick={() => setShowCreateModal(true)}\r\n                className=\"btn-primary\"\r\n              >\r\n                <Plus className=\"h-5 w-5 mr-2\" />\r\n                Criar Primeiro Portfólio\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modais */}\r\n      <CreatePortfolioModal\r\n        isOpen={showCreateModal}\r\n        onClose={() => setShowCreateModal(false)}\r\n        onSubmit={createPortfolio}\r\n      />\r\n      \r\n      <AddAssetModal\r\n        isOpen={showAddAssetModal}\r\n        onClose={() => setShowAddAssetModal(false)}\r\n        onSubmit={addAssetToPortfolio}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// Modal para criar portfólio\r\nconst CreatePortfolioModal: React.FC<{\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSubmit: (name: string, description: string) => void;\r\n}> = ({ isOpen, onClose, onSubmit }) => {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (name.trim()) {\r\n      onSubmit(name.trim(), description.trim());\r\n      setName('');\r\n      setDescription('');\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:border-gray-700\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Criar Novo Portfólio</h3>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Nome do Portfólio\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              className=\"input\"\r\n              placeholder=\"Ex: Meu Portfólio Principal\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Descrição (opcional)\r\n            </label>\r\n            <textarea\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              className=\"input\"\r\n              rows={3}\r\n              placeholder=\"Descrição do portfólio...\"\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"btn-outline\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button type=\"submit\" className=\"btn-primary\">\r\n              Criar Portfólio\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Modal para adicionar ativo\r\nconst AddAssetModal: React.FC<{\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSubmit: (symbol: string, quantity: number, averagePrice: number) => void;\r\n}> = ({ isOpen, onClose, onSubmit }) => {\r\n  const [symbol, setSymbol] = useState('');\r\n  const [quantity, setQuantity] = useState('');\r\n  const [averagePrice, setAveragePrice] = useState('');\r\n  const [searchResults, setSearchResults] = useState<AssetSearchResult[]>([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [showResults, setShowResults] = useState(false);\r\n\r\n  const handleSymbolChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setSymbol(value);\r\n    \r\n    if (value.length >= 2) {\r\n      setIsSearching(true);\r\n      setShowResults(true);\r\n      try {\r\n        const results = await assetService.searchAssets(value);\r\n        setSearchResults(results);\r\n      } catch (error) {\r\n        console.error('Erro ao buscar ativos:', error);\r\n      } finally {\r\n        setIsSearching(false);\r\n      }\r\n    } else {\r\n      setSearchResults([]);\r\n      setShowResults(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectAsset = (asset: AssetSearchResult) => {\r\n    setSymbol(asset.symbol);\r\n    setShowResults(false);\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (symbol.trim() && quantity && averagePrice) {\r\n      onSubmit(symbol.trim().toUpperCase(), parseFloat(quantity), parseFloat(averagePrice));\r\n      setSymbol('');\r\n      setQuantity('');\r\n      setAveragePrice('');\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:border-gray-700\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Adicionar Ativo</h3>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-4 relative\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Símbolo do Ativo\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={symbol}\r\n              onChange={handleSymbolChange}\r\n              className=\"input\"\r\n              placeholder=\"Ex: PETR4, VALE3, ITUB4\"\r\n              required\r\n            />\r\n            {isSearching && (\r\n              <div className=\"absolute right-3 top-9\">\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\r\n              </div>\r\n            )}\r\n            {showResults && searchResults.length > 0 && (\r\n              <div className=\"absolute z-10 mt-1 w-full bg-white dark:bg-gray-700 shadow-lg rounded-md max-h-60 overflow-auto\">\r\n                {searchResults.map((asset) => (\r\n                  <div\r\n                    key={asset.symbol}\r\n                    className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer flex justify-between items-center\"\r\n                    onClick={() => handleSelectAsset(asset)}\r\n                  >\r\n                    <div>\r\n                      <div className=\"font-medium\">{asset.symbol}</div>\r\n                      <div className=\"text-xs text-gray-500 dark:text-gray-400\">{asset.name}</div>\r\n                    </div>\r\n                    <div className=\"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded\">\r\n                      {asset.exchange}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Quantidade\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={quantity}\r\n              onChange={(e) => setQuantity(e.target.value)}\r\n              className=\"input\"\r\n              placeholder=\"100\"\r\n              min=\"0\"\r\n              step=\"1\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Preço Médio (R$)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={averagePrice}\r\n              onChange={(e) => setAveragePrice(e.target.value)}\r\n              className=\"input\"\r\n              placeholder=\"25.50\"\r\n              min=\"0\"\r\n              step=\"0.01\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"btn-outline\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button type=\"submit\" className=\"btn-primary\">\r\n              Adicionar Ativo\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Portfolio;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}