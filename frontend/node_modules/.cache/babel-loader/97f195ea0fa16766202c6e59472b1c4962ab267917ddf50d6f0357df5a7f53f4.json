{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Plus,TrendingUp,DollarSign,PieChart,BarChart3,Trash2}from'lucide-react';import{portfolioService,assetService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Portfolio=()=>{const[portfolios,setPortfolios]=useState([]);const[selectedPortfolio,setSelectedPortfolio]=useState(null);const[portfolioAssets,setPortfolioAssets]=useState([]);const[performance,setPerformance]=useState(null);const[loading,setLoading]=useState(true);const[showCreateModal,setShowCreateModal]=useState(false);const[showAddAssetModal,setShowAddAssetModal]=useState(false);useEffect(()=>{loadPortfolios();},[]);useEffect(()=>{if(selectedPortfolio){loadPortfolioData(selectedPortfolio.id);}},[selectedPortfolio]);const loadPortfolios=async()=>{try{const data=await portfolioService.getPortfolios();setPortfolios(data);if(data.length>0&&!selectedPortfolio){setSelectedPortfolio(data[0]);}}catch(error){console.error('Erro ao carregar portfólios:',error);}finally{setLoading(false);}};const loadPortfolioData=async portfolioId=>{try{const[assets,perf]=await Promise.all([portfolioService.getPortfolioAssets(portfolioId),portfolioService.getPortfolioPerformance(portfolioId)]);setPortfolioAssets(assets);setPerformance(perf);}catch(error){console.error('Erro ao carregar dados do portfólio:',error);}};const createPortfolio=async(name,description)=>{try{const newPortfolio=await portfolioService.createPortfolio({name,description});setPortfolios([...portfolios,newPortfolio]);setSelectedPortfolio(newPortfolio);setShowCreateModal(false);}catch(error){console.error('Erro ao criar portfólio:',error);}};const addAssetToPortfolio=async(symbol,quantity,averagePrice)=>{if(!selectedPortfolio)return;try{await portfolioService.addAssetToPortfolio(selectedPortfolio.id,{symbol,quantity,averagePrice});loadPortfolioData(selectedPortfolio.id);setShowAddAssetModal(false);}catch(error){console.error('Erro ao adicionar ativo:',error);}};const removeAsset=async assetId=>{if(!selectedPortfolio)return;try{await portfolioService.removeAssetFromPortfolio(assetId);loadPortfolioData(selectedPortfolio.id);}catch(error){console.error('Erro ao remover ativo:',error);}};const deletePortfolio=async portfolioId=>{// Use window.confirm instead of global confirm to avoid ESLint warning\nif(!window.confirm('Tem certeza que deseja deletar este portfólio? Esta ação não pode ser desfeita.')){return;}try{await portfolioService.deletePortfolio(portfolioId);const updatedPortfolios=portfolios.filter(p=>p.id!==portfolioId);setPortfolios(updatedPortfolios);// Se o portfólio deletado era o selecionado, selecionar outro ou limpar\nif((selectedPortfolio===null||selectedPortfolio===void 0?void 0:selectedPortfolio.id)===portfolioId){if(updatedPortfolios.length>0){setSelectedPortfolio(updatedPortfolios[0]);}else{setSelectedPortfolio(null);setPortfolioAssets([]);setPerformance(null);}}}catch(error){console.error('Erro ao deletar portfólio:',error);// Use window.alert instead of global alert\nwindow.alert('Erro ao deletar portfólio. Tente novamente.');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 dark:border-primary-400\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white\",children:\"Portf\\xF3lios\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600 dark:text-gray-300\",children:\"Gerencie seus investimentos e acompanhe o desempenho.\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"btn-primary\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-5 w-5 mr-2\"}),\"Novo Portf\\xF3lio\"]})]})}),portfolios.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-4 overflow-x-auto pb-2\",children:portfolios.map(portfolio=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedPortfolio(portfolio),className:\"px-4 py-2 rounded-lg font-medium transition-colors \".concat((selectedPortfolio===null||selectedPortfolio===void 0?void 0:selectedPortfolio.id)===portfolio.id?'bg-primary-600 text-white':'bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600'),children:portfolio.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deletePortfolio(portfolio.id),className:\"p-2 text-danger-600 hover:text-danger-800 dark:hover:text-danger-400 hover:bg-danger-50 dark:hover:bg-danger-900/20 rounded-lg transition-colors\",title:\"Deletar portf\\xF3lio\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]},portfolio.id))})}),selectedPortfolio?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[performance&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(DollarSign,{className:\"h-8 w-8 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Valor Total\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:[\"R$ \",((performance===null||performance===void 0?void 0:performance.totalValue)||0).toLocaleString('pt-BR',{minimumFractionDigits:2})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-8 w-8 text-success-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Ganho/Perda\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold \".concat(((performance===null||performance===void 0?void 0:performance.totalGain)||0)>=0?'text-success-600':'text-danger-600'),children:[\"R$ \",((performance===null||performance===void 0?void 0:performance.totalGain)||0).toLocaleString('pt-BR',{minimumFractionDigits:2})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"h-8 w-8 text-warning-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Retorno (%)\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold \".concat(((performance===null||performance===void 0?void 0:performance.totalGainPercent)||0)>=0?'text-success-600':'text-danger-600'),children:[((performance===null||performance===void 0?void 0:performance.totalGainPercent)||0).toFixed(2),\"%\"]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(PieChart,{className:\"h-8 w-8 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Ativos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:portfolioAssets.length})]})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card dark:bg-gray-800 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:\"Ativos do Portf\\xF3lio\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddAssetModal(true),className:\"btn-primary btn-sm\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-1\"}),\"Adicionar Ativo\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:portfolioAssets.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Ativo\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Quantidade\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Pre\\xE7o M\\xE9dio\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Valor Atual\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Ganho/Perda\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",children:portfolioAssets.map(asset=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 dark:text-white\",children:asset.symbol})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\",children:asset.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\",children:[\"R$ \",asset.averagePrice.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\",children:[\"R$ \",((asset.currentPrice||0)*asset.quantity).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium \".concat(((asset.currentPrice||0)-asset.averagePrice)*asset.quantity>=0?'text-success-600':'text-danger-600'),children:[\"R$ \",(((asset.currentPrice||0)-asset.averagePrice)*asset.quantity).toFixed(2)]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeAsset(asset.id),className:\"text-danger-600 hover:text-danger-900 dark:hover:text-danger-400\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})})]},asset.id))})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(PieChart,{className:\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Nenhum ativo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:\"Adicione ativos ao seu portf\\xF3lio para come\\xE7ar.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddAssetModal(true),className:\"btn-primary\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-5 w-5 mr-2\"}),\"Adicionar Primeiro Ativo\"]})})]})})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(PieChart,{className:\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Nenhum portf\\xF3lio\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:\"Crie seu primeiro portf\\xF3lio para come\\xE7ar a acompanhar seus investimentos.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"btn-primary\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-5 w-5 mr-2\"}),\"Criar Primeiro Portf\\xF3lio\"]})})]})]}),/*#__PURE__*/_jsx(CreatePortfolioModal,{isOpen:showCreateModal,onClose:()=>setShowCreateModal(false),onSubmit:createPortfolio}),/*#__PURE__*/_jsx(AddAssetModal,{isOpen:showAddAssetModal,onClose:()=>setShowAddAssetModal(false),onSubmit:addAssetToPortfolio})]});};// Modal para criar portfólio\nconst CreatePortfolioModal=_ref=>{let{isOpen,onClose,onSubmit}=_ref;const[name,setName]=useState('');const[description,setDescription]=useState('');const handleSubmit=e=>{e.preventDefault();if(name.trim()){onSubmit(name.trim(),description.trim());setName('');setDescription('');}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 dark:text-white mb-4\",children:\"Criar Novo Portf\\xF3lio\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Nome do Portf\\xF3lio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),className:\"input\",placeholder:\"Ex: Meu Portf\\xF3lio Principal\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Descri\\xE7\\xE3o (opcional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),className:\"input\",rows:3,placeholder:\"Descri\\xE7\\xE3o do portf\\xF3lio...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn-outline\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Criar Portf\\xF3lio\"})]})]})]})});};// Modal para adicionar ativo\nconst AddAssetModal=_ref2=>{let{isOpen,onClose,onSubmit}=_ref2;const[symbol,setSymbol]=useState('');const[quantity,setQuantity]=useState('');const[averagePrice,setAveragePrice]=useState('');const[searchResults,setSearchResults]=useState([]);const[isSearching,setIsSearching]=useState(false);const[showResults,setShowResults]=useState(false);const handleSymbolChange=async e=>{const value=e.target.value;setSymbol(value);if(value.length>=2){setIsSearching(true);setShowResults(true);try{const results=await assetService.searchAssets(value);setSearchResults(results);}catch(error){console.error('Erro ao buscar ativos:',error);}finally{setIsSearching(false);}}else{setSearchResults([]);setShowResults(false);}};const handleSelectAsset=asset=>{setSymbol(asset.symbol);setShowResults(false);};const handleSubmit=e=>{e.preventDefault();if(symbol.trim()&&quantity&&averagePrice){onSubmit(symbol.trim().toUpperCase(),parseFloat(quantity),parseFloat(averagePrice));setSymbol('');setQuantity('');setAveragePrice('');}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 dark:text-white mb-4\",children:\"Adicionar Ativo\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 relative\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"S\\xEDmbolo do Ativo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:symbol,onChange:handleSymbolChange,className:\"input\",placeholder:\"Ex: PETR4, VALE3, ITUB4\",required:true}),isSearching&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-3 top-9\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"})}),showResults&&searchResults.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute z-10 mt-1 w-full bg-white dark:bg-gray-700 shadow-lg rounded-md max-h-60 overflow-auto\",children:searchResults.map(asset=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer flex justify-between items-center\",onClick:()=>handleSelectAsset(asset),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:asset.symbol}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:asset.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded\",children:asset.exchange})]},asset.symbol))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Quantidade\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quantity,onChange:e=>setQuantity(e.target.value),className:\"input\",placeholder:\"100\",min:\"0\",step:\"1\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Pre\\xE7o M\\xE9dio (R$)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:averagePrice,onChange:e=>setAveragePrice(e.target.value),className:\"input\",placeholder:\"25.50\",min:\"0\",step:\"0.01\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn-outline\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Adicionar Ativo\"})]})]})]})});};export default Portfolio;","map":{"version":3,"names":["React","useState","useEffect","Plus","TrendingUp","DollarSign","PieChart","BarChart3","Trash2","portfolioService","assetService","jsx","_jsx","jsxs","_jsxs","Portfolio","portfolios","setPortfolios","selectedPortfolio","setSelectedPortfolio","portfolioAssets","setPortfolioAssets","performance","setPerformance","loading","setLoading","showCreateModal","setShowCreateModal","showAddAssetModal","setShowAddAssetModal","loadPortfolios","loadPortfolioData","id","data","getPortfolios","length","error","console","portfolioId","assets","perf","Promise","all","getPortfolioAssets","getPortfolioPerformance","createPortfolio","name","description","newPortfolio","addAssetToPortfolio","symbol","quantity","averagePrice","removeAsset","assetId","removeAssetFromPortfolio","deletePortfolio","window","confirm","updatedPortfolios","filter","p","alert","className","children","onClick","map","portfolio","concat","title","totalValue","toLocaleString","minimumFractionDigits","totalGain","totalGainPercent","toFixed","asset","currentPrice","CreatePortfolioModal","isOpen","onClose","onSubmit","AddAssetModal","_ref","setName","setDescription","handleSubmit","e","preventDefault","trim","type","value","onChange","target","placeholder","required","rows","_ref2","setSymbol","setQuantity","setAveragePrice","searchResults","setSearchResults","isSearching","setIsSearching","showResults","setShowResults","handleSymbolChange","results","searchAssets","handleSelectAsset","toUpperCase","parseFloat","exchange","min","step"],"sources":["C:/Users/ferna/INVEST_TRACKER/frontend/src/components/Portfolio.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Plus, TrendingUp, TrendingDown, DollarSign, PieChart, BarChart3, Edit, Trash2 } from 'lucide-react';\r\nimport { portfolioService, assetService } from '../services/api';\r\nimport { Portfolio as PortfolioType, PortfolioAsset, PortfolioPerformance, AssetSearchResult } from '../types';\r\nimport { SimpleTradingViewChart } from './TradingViewChart';\r\n\r\nconst Portfolio: React.FC = () => {\r\n  const [portfolios, setPortfolios] = useState<PortfolioType[]>([]);\r\n  const [selectedPortfolio, setSelectedPortfolio] = useState<PortfolioType | null>(null);\r\n  const [portfolioAssets, setPortfolioAssets] = useState<PortfolioAsset[]>([]);\r\n  const [performance, setPerformance] = useState<PortfolioPerformance | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showAddAssetModal, setShowAddAssetModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadPortfolios();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedPortfolio) {\r\n      loadPortfolioData(selectedPortfolio.id);\r\n    }\r\n  }, [selectedPortfolio]);\r\n\r\n  const loadPortfolios = async () => {\r\n    try {\r\n      const data = await portfolioService.getPortfolios();\r\n      setPortfolios(data);\r\n      if (data.length > 0 && !selectedPortfolio) {\r\n        setSelectedPortfolio(data[0]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar portfólios:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadPortfolioData = async (portfolioId: number) => {\r\n    try {\r\n      const [assets, perf] = await Promise.all([\r\n        portfolioService.getPortfolioAssets(portfolioId),\r\n        portfolioService.getPortfolioPerformance(portfolioId)\r\n      ]);\r\n      setPortfolioAssets(assets);\r\n      setPerformance(perf);\r\n    } catch (error) {\r\n      console.error('Erro ao carregar dados do portfólio:', error);\r\n    }\r\n  };\r\n\r\n  const createPortfolio = async (name: string, description: string) => {\r\n    try {\r\n      const newPortfolio = await portfolioService.createPortfolio({ name, description });\r\n      setPortfolios([...portfolios, newPortfolio]);\r\n      setSelectedPortfolio(newPortfolio);\r\n      setShowCreateModal(false);\r\n    } catch (error) {\r\n      console.error('Erro ao criar portfólio:', error);\r\n    }\r\n  };\r\n\r\n  const addAssetToPortfolio = async (symbol: string, quantity: number, averagePrice: number) => {\r\n    if (!selectedPortfolio) return;\r\n    \r\n    try {\r\n      await portfolioService.addAssetToPortfolio(selectedPortfolio.id, {\r\n        symbol,\r\n        quantity,\r\n        averagePrice\r\n      });\r\n      loadPortfolioData(selectedPortfolio.id);\r\n      setShowAddAssetModal(false);\r\n    } catch (error) {\r\n      console.error('Erro ao adicionar ativo:', error);\r\n    }\r\n  };\r\n\r\n  const removeAsset = async (assetId: number) => {\r\n    if (!selectedPortfolio) return;\r\n    \r\n    try {\r\n      await portfolioService.removeAssetFromPortfolio(assetId);\r\n      loadPortfolioData(selectedPortfolio.id);\r\n    } catch (error) {\r\n      console.error('Erro ao remover ativo:', error);\r\n    }\r\n  };\r\n\r\n  const deletePortfolio = async (portfolioId: number) => {\r\n    // Use window.confirm instead of global confirm to avoid ESLint warning\r\n    if (!window.confirm('Tem certeza que deseja deletar este portfólio? Esta ação não pode ser desfeita.')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await portfolioService.deletePortfolio(portfolioId);\r\n      const updatedPortfolios = portfolios.filter(p => p.id !== portfolioId);\r\n      setPortfolios(updatedPortfolios);\r\n      \r\n      // Se o portfólio deletado era o selecionado, selecionar outro ou limpar\r\n      if (selectedPortfolio?.id === portfolioId) {\r\n        if (updatedPortfolios.length > 0) {\r\n          setSelectedPortfolio(updatedPortfolios[0]);\r\n        } else {\r\n          setSelectedPortfolio(null);\r\n          setPortfolioAssets([]);\r\n          setPerformance(null);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao deletar portfólio:', error);\r\n      // Use window.alert instead of global alert\r\n      window.alert('Erro ao deletar portfólio. Tente novamente.');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 dark:border-primary-400\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Portfólios</h1>\r\n              <p className=\"mt-2 text-gray-600 dark:text-gray-300\">\r\n                Gerencie seus investimentos e acompanhe o desempenho.\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowCreateModal(true)}\r\n              className=\"btn-primary\"\r\n            >\r\n              <Plus className=\"h-5 w-5 mr-2\" />\r\n              Novo Portfólio\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Seletor de Portfólio */}\r\n        {portfolios.length > 0 && (\r\n          <div className=\"mb-6\">\r\n            <div className=\"flex space-x-4 overflow-x-auto pb-2\">\r\n              {portfolios.map((portfolio) => (\r\n                <div key={portfolio.id} className=\"flex-shrink-0 flex items-center space-x-2\">\r\n                  <button\r\n                    onClick={() => setSelectedPortfolio(portfolio)}\r\n                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                      selectedPortfolio?.id === portfolio.id\r\n                        ? 'bg-primary-600 text-white'\r\n                        : 'bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600'\r\n                    }`}\r\n                  >\r\n                    {portfolio.name}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => deletePortfolio(portfolio.id)}\r\n                    className=\"p-2 text-danger-600 hover:text-danger-800 dark:hover:text-danger-400 hover:bg-danger-50 dark:hover:bg-danger-900/20 rounded-lg transition-colors\"\r\n                    title=\"Deletar portfólio\"\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4\" />\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {selectedPortfolio ? (\r\n          <div className=\"space-y-6\">\r\n            {/* Cards de Performance */}\r\n            {performance && (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n                <div className=\"card dark:bg-gray-800 dark:border-gray-700\">\r\n                  <div className=\"card-body\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"flex-shrink-0\">\r\n                        <DollarSign className=\"h-8 w-8 text-primary-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Valor Total</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n                          R$ {(performance?.totalValue || 0).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"card dark:bg-gray-800 dark:border-gray-700\">\r\n                  <div className=\"card-body\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"flex-shrink-0\">\r\n                        <TrendingUp className=\"h-8 w-8 text-success-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Ganho/Perda</p>\r\n                        <p className={`text-2xl font-bold ${\r\n                          (performance?.totalGain || 0) >= 0 ? 'text-success-600' : 'text-danger-600'\r\n                         }`}>\r\n                           R$ {(performance?.totalGain || 0).toLocaleString('pt-BR', { minimumFractionDigits: 2 })}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"card dark:bg-gray-800 dark:border-gray-700\">\r\n                  <div className=\"card-body\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"flex-shrink-0\">\r\n                        <BarChart3 className=\"h-8 w-8 text-warning-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Retorno (%)</p>\r\n                        <p className={`text-2xl font-bold ${\r\n                          (performance?.totalGainPercent || 0) >= 0 ? 'text-success-600' : 'text-danger-600'\r\n                         }`}>\r\n                           {(performance?.totalGainPercent || 0).toFixed(2)}%\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"card dark:bg-gray-800 dark:border-gray-700\">\r\n                  <div className=\"card-body\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"flex-shrink-0\">\r\n                        <PieChart className=\"h-8 w-8 text-purple-600\" />\r\n                      </div>\r\n                      <div className=\"ml-4\">\r\n                        <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Ativos</p>\r\n                        <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n                          {portfolioAssets.length}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Lista de Ativos */}\r\n            <div className=\"card dark:bg-gray-800 dark:border-gray-700\">\r\n              <div className=\"card-header dark:border-gray-700\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">Ativos do Portfólio</h3>\r\n                  <button\r\n                    onClick={() => setShowAddAssetModal(true)}\r\n                    className=\"btn-primary btn-sm\"\r\n                  >\r\n                    <Plus className=\"h-4 w-4 mr-1\" />\r\n                    Adicionar Ativo\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-body p-0\">\r\n                {portfolioAssets.length > 0 ? (\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n                      <thead className=\"bg-gray-50 dark:bg-gray-700\">\r\n                        <tr>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Ativo\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Quantidade\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Preço Médio\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Valor Atual\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Ganho/Perda\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">\r\n                            Ações\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\r\n                        {portfolioAssets.map((asset) => (\r\n                          <tr key={asset.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\r\n                            <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                              <div className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                                {asset.symbol}\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\">\r\n                              {asset.quantity}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\">\r\n                              R$ {asset.averagePrice.toFixed(2)}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300\">\r\n                              R$ {((asset.currentPrice || 0) * asset.quantity).toFixed(2)}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                              <span className={`text-sm font-medium ${\r\n                                ((asset.currentPrice || 0) - asset.averagePrice) * asset.quantity >= 0\r\n                                  ? 'text-success-600'\r\n                                  : 'text-danger-600'\r\n                              }`}>\r\n                                R$ {(((asset.currentPrice || 0) - asset.averagePrice) * asset.quantity).toFixed(2)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                              <button\r\n                                onClick={() => removeAsset(asset.id)}\r\n                                className=\"text-danger-600 hover:text-danger-900 dark:hover:text-danger-400\"\r\n                              >\r\n                                <Trash2 className=\"h-4 w-4\" />\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-12\">\r\n                    <PieChart className=\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\" />\r\n                    <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">Nenhum ativo</h3>\r\n                    <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n                      Adicione ativos ao seu portfólio para começar.\r\n                    </p>\r\n                    <div className=\"mt-6\">\r\n                      <button\r\n                        onClick={() => setShowAddAssetModal(true)}\r\n                        className=\"btn-primary\"\r\n                      >\r\n                        <Plus className=\"h-5 w-5 mr-2\" />\r\n                        Adicionar Primeiro Ativo\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-12\">\r\n            <PieChart className=\"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500\" />\r\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">Nenhum portfólio</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\r\n              Crie seu primeiro portfólio para começar a acompanhar seus investimentos.\r\n            </p>\r\n            <div className=\"mt-6\">\r\n              <button\r\n                onClick={() => setShowCreateModal(true)}\r\n                className=\"btn-primary\"\r\n              >\r\n                <Plus className=\"h-5 w-5 mr-2\" />\r\n                Criar Primeiro Portfólio\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modais */}\r\n      <CreatePortfolioModal\r\n        isOpen={showCreateModal}\r\n        onClose={() => setShowCreateModal(false)}\r\n        onSubmit={createPortfolio}\r\n      />\r\n      \r\n      <AddAssetModal\r\n        isOpen={showAddAssetModal}\r\n        onClose={() => setShowAddAssetModal(false)}\r\n        onSubmit={addAssetToPortfolio}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// Modal para criar portfólio\r\nconst CreatePortfolioModal: React.FC<{\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSubmit: (name: string, description: string) => void;\r\n}> = ({ isOpen, onClose, onSubmit }) => {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (name.trim()) {\r\n      onSubmit(name.trim(), description.trim());\r\n      setName('');\r\n      setDescription('');\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:border-gray-700\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Criar Novo Portfólio</h3>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Nome do Portfólio\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              className=\"input\"\r\n              placeholder=\"Ex: Meu Portfólio Principal\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Descrição (opcional)\r\n            </label>\r\n            <textarea\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              className=\"input\"\r\n              rows={3}\r\n              placeholder=\"Descrição do portfólio...\"\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"btn-outline\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button type=\"submit\" className=\"btn-primary\">\r\n              Criar Portfólio\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Modal para adicionar ativo\r\nconst AddAssetModal: React.FC<{\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSubmit: (symbol: string, quantity: number, averagePrice: number) => void;\r\n}> = ({ isOpen, onClose, onSubmit }) => {\r\n  const [symbol, setSymbol] = useState('');\r\n  const [quantity, setQuantity] = useState('');\r\n  const [averagePrice, setAveragePrice] = useState('');\r\n  const [searchResults, setSearchResults] = useState<AssetSearchResult[]>([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [showResults, setShowResults] = useState(false);\r\n\r\n  const handleSymbolChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setSymbol(value);\r\n    \r\n    if (value.length >= 2) {\r\n      setIsSearching(true);\r\n      setShowResults(true);\r\n      try {\r\n        const results = await assetService.searchAssets(value);\r\n        setSearchResults(results);\r\n      } catch (error) {\r\n        console.error('Erro ao buscar ativos:', error);\r\n      } finally {\r\n        setIsSearching(false);\r\n      }\r\n    } else {\r\n      setSearchResults([]);\r\n      setShowResults(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectAsset = (asset: AssetSearchResult) => {\r\n    setSymbol(asset.symbol);\r\n    setShowResults(false);\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (symbol.trim() && quantity && averagePrice) {\r\n      onSubmit(symbol.trim().toUpperCase(), parseFloat(quantity), parseFloat(averagePrice));\r\n      setSymbol('');\r\n      setQuantity('');\r\n      setAveragePrice('');\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:border-gray-700\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4\">Adicionar Ativo</h3>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-4 relative\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Símbolo do Ativo\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={symbol}\r\n              onChange={handleSymbolChange}\r\n              className=\"input\"\r\n              placeholder=\"Ex: PETR4, VALE3, ITUB4\"\r\n              required\r\n            />\r\n            {isSearching && (\r\n              <div className=\"absolute right-3 top-9\">\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\r\n              </div>\r\n            )}\r\n            {showResults && searchResults.length > 0 && (\r\n              <div className=\"absolute z-10 mt-1 w-full bg-white dark:bg-gray-700 shadow-lg rounded-md max-h-60 overflow-auto\">\r\n                {searchResults.map((asset) => (\r\n                  <div\r\n                    key={asset.symbol}\r\n                    className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer flex justify-between items-center\"\r\n                    onClick={() => handleSelectAsset(asset)}\r\n                  >\r\n                    <div>\r\n                      <div className=\"font-medium\">{asset.symbol}</div>\r\n                      <div className=\"text-xs text-gray-500 dark:text-gray-400\">{asset.name}</div>\r\n                    </div>\r\n                    <div className=\"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded\">\r\n                      {asset.exchange}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Quantidade\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={quantity}\r\n              onChange={(e) => setQuantity(e.target.value)}\r\n              className=\"input\"\r\n              placeholder=\"100\"\r\n              min=\"0\"\r\n              step=\"1\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              Preço Médio (R$)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={averagePrice}\r\n              onChange={(e) => setAveragePrice(e.target.value)}\r\n              className=\"input\"\r\n              placeholder=\"25.50\"\r\n              min=\"0\"\r\n              step=\"0.01\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"btn-outline\"\r\n            >\r\n              Cancelar\r\n            </button>\r\n            <button type=\"submit\" className=\"btn-primary\">\r\n              Adicionar Ativo\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Portfolio;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}